<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSSPlus Private AI Chatbot</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- External Libraries for Functionality and Effects -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        /* --- DARK THEME STYLES (FROM USER REFERENCE) --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f1117; /* Darkest Background */
            color: #f1f5f9; /* Light Text */
        }

        /* Input/Select/Textarea Background & Border */
        input[type="text"], textarea, select {
            background-color: #0f1117 !important; 
            border-color: #374151 !important; /* Gray-700 */
            color: #f1f5f9 !important;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        /* Card Background */
        .card-bg {
            background-color: #1a1d25; /* Slightly lighter dark background for cards */
            border: 1px solid #1f2937; /* Gray-800 border */
        }
        
        /* Hover Effect */
        .card-hover {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -5px rgba(59, 130, 246, 0.2);
        }

        /* Modal Backdrop and Active State */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            z-index: 50;
            justify-content: center;
            align-items: center;
        }
        .modal.active {
            display: flex;
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="card-bg border-b border-gray-800 sticky top-0 z-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <a href="index.html" class="text-xl font-bold text-white">Automatesphere <span class="text-blue-500">AI </span></a>
            
            <div class="flex items-center gap-4">
                <span class="text-sm text-gray-400 hidden sm:inline">Logged in as: <strong>admin</strong></span>
                <button id="logout-btn" onclick="platform.logout()"
                        class="px-4 py-2 text-sm text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors shadow-md">
                    Logout
                </button>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="text-center py-16 bg-gradient-to-r from-blue-700 via-blue-800 to-indigo-800 shadow-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold mb-4 tracking-tight text-white">
                <span id="hero-title"></span>
            </h1>
            <p class="text-xl sm:text-2xl font-light text-gray-300 max-w-2xl mx-auto">
                Manage, edit, and publish your content seamlessly.
            </p>
            <button onclick="openAddModal()" 
                    class="mt-8 px-8 py-3 bg-green-500 text-white rounded-xl font-semibold hover:bg-green-600 transition-all hover:scale-[1.02] shadow-lg">
                + Add New Post
            </button>
        </div>
    </section>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-12 mb-20">
        
        <!-- Dashboard Charts -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12">
            
            <div class="card-bg p-6 rounded-xl shadow-lg card-hover">
                <h2 class="text-xl font-semibold text-white mb-4">Post Distribution by Category</h2>
                <div id="category-chart" style="height: 300px;"></div>
            </div>
            
            <div class="card-bg p-6 rounded-xl shadow-lg card-hover">
                <h2 class="text-xl font-semibold text-white mb-4">Content Trends (Simulated)</h2>
                <div id="trends-chart" style="height: 300px;"></div>
            </div>
        </section>

        <!-- Content Management Section -->
        <section class="card-bg p-6 rounded-xl shadow-lg">
            <h2 class="text-2xl font-bold text-white mb-6">Content Management</h2>
            
            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 mb-8">
                <div class="relative flex-grow">
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    <input type="text" id="search-input" oninput="platform.handleSearch(this.value)"
                           placeholder="Search posts by title, content, or tags..."
                           class="w-full pl-10 pr-4 py-2 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                
                <select id="category-filter" onchange="platform.handleCategoryFilter(this.value)"
                        class="w-full sm:w-1/4 px-4 py-2 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500">
                    <option value="">Filter by Category</option>
                    <option value="announcements">Announcements</option>
                    <option value="guidelines">Guidelines</option>
                    <option value="updates">Updates</option>
                    <option value="training">Training</option>
                    <option value="policies">Policies</option>
                </select>

                <button onclick="clearFilters()"
                        class="w-full sm:w-auto px-4 py-2 text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors">
                    Clear Filters
                </button>
            </div>

            <!-- Post Card Grid -->
            <section id="posts-container" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <p class="text-gray-400 col-span-full text-center py-10">Loading posts...</p>
            </section>

        </section>
    </main>

    <!-- Modal for Add/Edit Posts -->
    <div id="post-modal" class="modal" onclick="if(event.target.id === 'post-modal') platform.closeModal()">
        <div class="card-bg rounded-xl shadow-2xl max-w-2xl w-full mx-4 p-8 transform transition-transform duration-300">
            <h2 id="modal-title" class="text-3xl font-bold text-white mb-6 border-b border-gray-700 pb-3">Add New Post</h2>
            
            <form id="post-form" class="space-y-5">
                <div>
                    <label for="post-title" class="block text-sm font-medium text-gray-400 mb-2">Title</label>
                    <input type="text" id="post-title" required 
                           placeholder="Enter post title"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label for="post-category" class="block text-sm font-medium text-gray-400 mb-2">Category</label>
                    <select id="post-category" required
                            class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                        <option value="announcements">Announcements</option>
                        <option value="guidelines">Guidelines</option>
                        <option value="updates">Updates</option>
                        <option value="training">Training</option>
                        <option value="policies">Policies</option>
                    </select>
                </div>
                <div>
                    <label for="post-content" class="block text-sm font-medium text-gray-400 mb-2">Content</label>
                    <textarea id="post-content" rows="6" required 
                              placeholder="Write your main content here..."
                              class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-400 mb-2">Tags (comma-separated)</label>
                    <input type="text" id="post-tags" 
                           placeholder="e.g., business, consulting, digital transformation"
                           class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500">
                </div>
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="platform.closeModal()" 
                            class="px-5 py-2 text-gray-400 border border-gray-700 rounded-lg hover:bg-gray-700 transition-colors">
                        Cancel
                    </button>
                    <button type="submit" 
                            class="bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-transform shadow-md">
                        Save Post
                    </button>
                </div>
            </form>
        </div>
    </div>


    <!-- Footer -->
    <footer class="card-bg border-t border-gray-800 text-center py-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <p class="text-gray-500">&copy; 2024 Automatesphere AI. All rights reserved.</p>
        </div>
    </footer>

    <!-- Embedded JavaScript (BSSPlusPlatform class with localStorage logic) -->
    <script>
// BSSPlus Platform Main JavaScript - Data stored in localStorage (Client-Side Persistence)
class BSSPlusPlatform {
    constructor() {
        // Load data from localStorage
        this.posts = JSON.parse(localStorage.getItem('bssplus_posts') || '[]');
        this.currentEditId = null;
        this.init();
    }

    init() {
        if (this.posts.length === 0) {
            this.loadSampleData();
        } else {
            this.renderPosts();
        }
        this.setupEventListeners();
        this.initializeAnimations();
        this.renderCharts();
        this.initializeAPI();
    }

    // --- Core Data Management (localStorage) ---
    saveDataToLocalStorage() {
        localStorage.setItem('bssplus_posts', JSON.stringify(this.posts));
        this.renderPosts();
        this.renderCharts();
    }

    loadSampleData() {
        this.posts = [
            {
                id: 1,
                title: "Welcome to BSSPlus Platform",
                category: "announcements",
                content: "Welcome to our new content management platform! This system allows you to create, manage, and organize all your business content efficiently.",
                author: "System Administrator",
                createdDate: "2024-10-15",
                modifiedDate: "2024-10-15",
                tags: ["welcome", "platform", "introduction"],
                status: "published"
            },
            {
                id: 2,
                title: "Digital Transformation Strategy Guidelines",
                category: "guidelines",
                content: "Comprehensive guide to implementing digital transformation in your organization. This document covers key strategies, best practices, and step-by-step approaches.",
                author: "Digital Strategy Team",
                createdDate: "2024-10-10",
                modifiedDate: "2024-10-12",
                tags: ["digital transformation", "strategy", "guidelines"],
                status: "published"
            },
            {
                id: 3,
                title: "ESPA Programs Update 2024 - New Funding Opportunities",
                category: "updates",
                content: "Latest updates on ESPA (European Structural and Investment Funds) programs available for Greek businesses. This post contains important information about new funding opportunities and deadlines for Q4.",
                author: "Funding Advisory Team",
                createdDate: "2024-10-08",
                modifiedDate: "2024-10-08",
                tags: ["ESPA", "funding", "programs", "2024"],
                status: "published"
            },
            {
                id: 4,
                title: "Mandatory New Employee Training Module",
                category: "training",
                content: "All new employees must complete the BSSPlus Core Principles training module within their first two weeks. Failure to complete may affect access to internal resources.",
                author: "HR Department",
                createdDate: "2024-10-01",
                modifiedDate: "2024-10-01",
                tags: ["HR", "onboarding", "compliance"],
                status: "published"
            }
        ];
        this.saveDataToLocalStorage();
    }
    
    // --- Public API Mock (For demonstration/integration) ---
    initializeAPI() {
        window.BSSPlusAPI = {
            getAllPosts: () => ({ success: true, data: this.posts, count: this.posts.length }),
            getPost: (id) => ({ success: true, data: this.posts.find(p => p.id === parseInt(id)) }),
            searchPosts: (query) => this.searchPosts(query).data,
        };
    }
    
    // --- Authentication (Placeholder) ---
    logout() {
        localStorage.removeItem('bssplus_posts'); // Clear data on logout for a clean demo
        localStorage.removeItem('bssplus_logged_in');
        localStorage.removeItem('bssplus_username');
        this.showNotification('You have been logged out!', 'info');
        // window.location.reload(); // Uncomment to simulate logout refresh
    }

    // --- Rendering and Filtering (Now using Card Grid) ---
    renderPosts(postsToRender = this.posts) {
        const container = document.getElementById('posts-container');
        if (!container) return;

        container.innerHTML = '';

        if (postsToRender.length === 0) {
            container.innerHTML = `
                <p class="text-gray-400 col-span-full text-center py-10">
                    No posts found matching your filter criteria.
                </p>
            `;
            return;
        }

        postsToRender.forEach(post => {
            const div = document.createElement('div');
            div.className = 'card-bg border border-gray-800 rounded-xl p-6 card-hover flex flex-col justify-between';
            
            const categoryStyles = {
                announcements: 'bg-blue-600',
                guidelines: 'bg-green-600',
                updates: 'bg-yellow-600',
                training: 'bg-purple-600',
                policies: 'bg-red-600'
            };
            const categoryClass = categoryStyles[post.category] || 'bg-gray-600';

            const truncatedContent = post.content.substring(0, 150) + (post.content.length > 150 ? '...' : '');

            div.innerHTML = `
                <div>
                    <span class="text-xs font-semibold px-2 py-1 rounded-full text-white ${categoryClass} mb-3 inline-block">
                        ${post.category.charAt(0).toUpperCase() + post.category.slice(1)}
                    </span>
                    <h3 class="text-xl font-bold text-white mb-2">${post.title}</h3>
                    <p class="text-sm text-gray-400 mb-4">${truncatedContent}</p>
                </div>
                
                <div class="pt-4 border-t border-gray-700 mt-auto">
                    <p class="text-xs text-gray-500 mb-3">By ${post.author} on ${this.formatDate(post.createdDate)}</p>
                    <div class="flex items-center space-x-4 text-sm font-medium">
                        <button onclick="platform.viewPost(${post.id})" 
                                class="text-blue-500 hover:text-blue-400 transition-colors">
                            View Details
                        </button>
                        <button onclick="platform.editPost(${post.id})" 
                                class="text-green-500 hover:text-green-400 transition-colors">
                            Edit
                        </button>
                        <button onclick="platform.deletePost(${post.id})" 
                                class="text-red-500 hover:text-red-400 transition-colors">
                            Delete
                        </button>
                    </div>
                </div>
            `;
            
            container.appendChild(div);
        });
    }

    handleSearch(query) {
        this.filterAndRender(query, document.getElementById('category-filter').value);
    }

    handleCategoryFilter(category) {
        this.filterAndRender(document.getElementById('search-input').value, category);
    }

    filterAndRender(query, categoryFilter) {
        let filteredPosts = this.posts;

        // Apply category filter
        if (categoryFilter) {
            filteredPosts = filteredPosts.filter(post => post.category === categoryFilter);
        }
        
        // Apply search query
        if (query) {
            const lowerQuery = query.toLowerCase();
            filteredPosts = filteredPosts.filter(post => 
                post.title.toLowerCase().includes(lowerQuery) ||
                post.content.toLowerCase().includes(lowerQuery) ||
                (post.tags && post.tags.some(tag => tag.toLowerCase().includes(lowerQuery)))
            );
        }

        this.renderPosts(filteredPosts);
    }

    clearFilters() {
        const searchInput = document.getElementById('search-input');
        const categoryFilter = document.getElementById('category-filter');
        
        if (searchInput) searchInput.value = '';
        if (categoryFilter) categoryFilter.value = '';
        
        this.renderPosts();
    }

    // --- Modal and Form Logic ---
    openAddModal() {
        this.currentEditId = null;
        const modal = document.getElementById('post-modal');
        document.getElementById('modal-title').textContent = 'Add New Post';
        this.clearForm();
        modal.classList.add('active');
        this.animateModalOpen(modal);
    }

    editPost(id) {
        const post = this.posts.find(p => p.id === id);
        if (!post) return;

        this.currentEditId = id;
        const modal = document.getElementById('post-modal');
        document.getElementById('modal-title').textContent = `Edit Post: ${post.title}`;
        this.fillForm(post);
        modal.classList.add('active');
        this.animateModalOpen(modal);
    }

    viewPost(id) {
        const post = this.posts.find(p => p.id === id);
        if (!post) return;

        // Simple view modal creation (re-used logic, adjusted for dark theme)
        const existingModal = document.querySelector('.view-post-modal');
        if (existingModal) existingModal.remove();

        const modal = document.createElement('div');
        modal.className = 'modal fixed inset-0 bg-black bg-opacity-70 items-center justify-center z-50 active view-post-modal';
        modal.onclick = (e) => { if(e.target === modal) modal.remove(); };

        const categoryStyles = {
            announcements: 'bg-blue-600', guidelines: 'bg-green-600', updates: 'bg-yellow-600',
            training: 'bg-purple-600', policies: 'bg-red-600'
        };
        const categoryClass = categoryStyles[post.category] || 'bg-gray-600';

        modal.innerHTML = `
            <div class="card-bg rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                <div class="px-6 py-4 border-b border-gray-700 flex justify-between items-center sticky top-0 card-bg z-10">
                    <h3 class="text-xl font-semibold text-white">${post.title}</h3>
                    <button onclick="this.closest('.view-post-modal').remove()" class="text-gray-400 hover:text-gray-200 p-1">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="px-6 py-6">
                    <div class="mb-4">
                        <span class="inline-flex px-3 py-1 text-sm font-semibold rounded-full text-white ${categoryClass}">
                            ${post.category.charAt(0).toUpperCase() + post.category.slice(1)}
                        </span>
                        <span class="ml-2 text-sm text-gray-500">By ${post.author} on ${this.formatDate(post.createdDate)}</span>
                    </div>
                    <div class="prose max-w-none">
                        <p class="text-gray-300 leading-relaxed whitespace-pre-wrap">${post.content}</p>
                    </div>
                    <div class="mt-6 border-t border-gray-700 pt-4">
                        <p class="text-sm text-gray-500">Tags: ${post.tags ? post.tags.join(', ') : 'None'}</p>
                        <p class="text-xs text-gray-600">Last Modified: ${this.formatDate(post.modifiedDate)}</p>
                    </div>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
        this.animateModalOpen(modal);
    }

    closeModal() {
        const modal = document.getElementById('post-modal');
        this.animateModalClose(modal, () => modal.classList.remove('active'));
    }

    handleFormSubmit(e) {
        e.preventDefault();
        
        const formData = {
            title: document.getElementById('post-title').value,
            category: document.getElementById('post-category').value,
            content: document.getElementById('post-content').value,
            tags: document.getElementById('post-tags').value.split(',').map(tag => tag.trim()).filter(tag => tag)
        };

        if (this.currentEditId) {
            // Update existing post
            const postIndex = this.posts.findIndex(p => p.id === this.currentEditId);
            if (postIndex !== -1) {
                this.posts[postIndex] = {
                    ...this.posts[postIndex],
                    ...formData,
                    modifiedDate: new Date().toISOString().split('T')[0]
                };
                this.showNotification('Post updated successfully!', 'success');
            }
        } else {
            // Add new post
            const newPost = {
                id: Date.now(),
                ...formData,
                author: 'Manager', // Placeholder author
                createdDate: new Date().toISOString().split('T')[0],
                modifiedDate: new Date().toISOString().split('T')[0],
                status: 'published'
            };
            this.posts.unshift(newPost);
            this.showNotification('Post created successfully!', 'success');
        }

        this.saveDataToLocalStorage();
        this.closeModal();
    }

    deletePost(id) {
        const post = this.posts.find(p => p.id === id);
        if (!post) return;

        if (confirm(`Are you sure you want to delete "${post.title}"? This action cannot be undone.`)) { 
            this.posts = this.posts.filter(p => p.id !== id);
            this.saveDataToLocalStorage();
            this.showNotification('Post deleted permanently!', 'success');
        }
    }

    // --- Utility Methods ---
    fillForm(post) {
        document.getElementById('post-title').value = post.title;
        document.getElementById('post-category').value = post.category;
        document.getElementById('post-content').value = post.content;
        document.getElementById('post-tags').value = post.tags ? post.tags.join(', ') : '';
    }

    clearForm() {
        document.getElementById('post-title').value = '';
        document.getElementById('post-category').value = 'announcements';
        document.getElementById('post-content').value = '';
        document.getElementById('post-tags').value = '';
    }

    formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
    }

    setupEventListeners() {
        document.getElementById('post-form').addEventListener('submit', (e) => this.handleFormSubmit(e));
    }

    // --- Animations and Effects ---
    initializeAnimations() {
        new Typed('#hero-title', {
            strings: ['Private AI Chatbot', 'Your Business Command Center', 'Content Management AI'],
            typeSpeed: 50, backSpeed: 30, backDelay: 2000, loop: true, showCursor: false
        });
        
        // Initial card fade-in animation
        anime({
            targets: '.card-hover', translateY: [20, 0], opacity: [0, 1],
            delay: anime.stagger(100), duration: 800, easing: 'easeOutQuart'
        });
    }
    
    // --- Chart Logic (ECharts) ---
    calculateChartData() {
        const categoryCounts = {};
        this.posts.forEach(post => {
            const category = post.category;
            categoryCounts[category] = (categoryCounts[category] || 0) + 1;
        });
        const categoryChartData = Object.keys(categoryCounts).map(key => ({
            value: categoryCounts[key], name: key.charAt(0).toUpperCase() + key.slice(1)
        }));
        
        // Simulated trends data
        const trendsData = [
            { month: 'May', posts: 10 }, { month: 'Jun', posts: 15 }, { month: 'Jul', posts: 8 }, 
            { month: 'Aug', posts: 12 }, { month: 'Sep', posts: 20 }, { month: 'Oct', posts: this.posts.length }
        ];

        return { categoryChartData, trendsData };
    }

    renderCharts() {
        if (typeof echarts === 'undefined') return;

        const { categoryChartData, trendsData } = this.calculateChartData();

        // --- Category Chart (Pie Chart) ---
        const categoryChartDom = document.getElementById('category-chart');
        if (categoryChartDom) {
            const categoryChart = echarts.init(categoryChartDom, 'dark'); // Use 'dark' theme for ECharts
            const categoryOption = {
                tooltip: { trigger: 'item' },
                series: [{
                    name: 'Posts', type: 'pie', radius: '70%', center: ['50%', '50%'], data: categoryChartData,
                    label: { show: true, formatter: '{b} ({d}%)', color: '#f1f5f9' },
                    color: ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ef4444', '#64748b']
                }],
                textStyle: { color: '#f1f5f9' }
            };
            categoryChart.setOption(categoryOption);
        }

        // --- Trends Chart (Line Chart) ---
        const trendsChartDom = document.getElementById('trends-chart');
        if (trendsChartDom) {
            const trendsChart = echarts.init(trendsChartDom, 'dark'); // Use 'dark' theme for ECharts
            const trendsOption = {
                tooltip: { trigger: 'axis' },
                xAxis: { 
                    type: 'category', 
                    data: trendsData.map(d => d.month),
                    axisLabel: { color: '#9ca3af' }
                },
                yAxis: { 
                    type: 'value', 
                    name: 'New Posts', 
                    nameTextStyle: { color: '#9ca3af' },
                    axisLabel: { color: '#9ca3af' }
                },
                series: [{
                    name: 'New Posts', type: 'line', smooth: true, data: trendsData.map(d => d.posts),
                    itemStyle: { color: '#3b82f6' },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0, color: 'rgba(59, 130, 246, 0.5)'
                        }, {
                            offset: 1, color: 'rgba(59, 130, 246, 0)'
                        }])
                    }
                }],
                grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
                textStyle: { color: '#f1f5f9' }
            };
            trendsChart.setOption(trendsOption);
        }
    }

    // --- Notification and Modal Animation ---
    showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-xl text-white ${
            type === 'success' ? 'bg-green-600' : type === 'error' ? 'bg-red-600' : 'bg-blue-600'
        }`;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        anime({ targets: notification, translateX: [100, 0], opacity: [0, 1], duration: 300, easing: 'easeOutQuart' });
        
        setTimeout(() => {
            anime({ targets: notification, translateX: [0, 100], opacity: [1, 0], duration: 300, easing: 'easeInQuart', complete: () => notification.remove() });
        }, 3000);
    }

    animateModalOpen(modal) {
        anime({
            targets: modal.querySelector('div:not(.modal)'),
            scale: [0.8, 1],
            opacity: [0, 1],
            duration: 300,
            easing: 'easeOutQuart'
        });
    }

    animateModalClose(modal, callback) {
        anime({
            targets: modal.querySelector('div:not(.modal)'),
            scale: [1, 0.8],
            opacity: [1, 0],
            duration: 200,
            easing: 'easeInQuart',
            complete: callback
        });
    }
}

// Global functions for HTML onclick handlers
function openAddModal() { window.platform.openAddModal(); }
function clearFilters() { window.platform.clearFilters(); }

// Initialize platform when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    // Check if echarts is available before initializing the platform
    if (typeof echarts === 'undefined') {
        console.error("ECharts library not loaded. Charts will not render.");
    }
    window.platform = new BSSPlusPlatform();
});
    </script>

</body>
</html>

